<div class="mt-4 space-y-3">
  <% songs.each do |song| %>
    <div class="bg-gray-800 rounded-lg p-4 flex items-center shadow-md">
      <!-- ジャケット画像 -->
      <% if song.album_art_url.present? %>
        <img src="<%= song.album_art_url %>" class="w-16 h-16 rounded mr-4">
      <% end %>

      <!-- 曲情報 -->
      <div class="flex-1 text-left">
        <p class="font-bold text-white text-base"><%= song.title %></p>
        <p class="text-gray-400 text-sm"><%= song.artist %></p>
      </div>

      <!-- 選択ボタン -->
      <button type="button"
              class="ml-auto bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded select-song"
              data-spotify-id="<%= song.spotify_id %>"
              data-title="<%= song.title %>"
              data-artist="<%= song.artist %>"
              data-album-art-url="<%= song.album_art_url %>"
              data-spotify-url="<%= song.spotify_url %>">
        選択
      </button>
    </div>
  <% end %>

  <% if songs.blank? %>
    <p class="text-gray-400 text-center py-6">該当なし</p>
  <% else %>
    <!-- ページネーション（Turbo Frame内なのでクリックでFrameだけ差し替わる） -->
    <div class="mt-4 flex justify-center gap-2">
      <% (1..4).each do |p| %>
        <% active = (p == page) %>
        <%= link_to p,
            search_songs_path(q: q, page: p),
            data: { 
              turbo_frame: "search_results" },
            class: [
              "inline-flex items-center justify-center w-9 h-9 rounded text-sm font-medium",
              active ? "bg-indigo-600 text-white" : "bg-gray-800 text-gray-200 hover:bg-gray-700"
            ].join(" ") %>
      <% end %>
    </div>
  <% end %>
</div>
